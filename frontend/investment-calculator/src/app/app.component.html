<div class="container-md mt-3">
  <div class="row">
   <div class="col-md-12">
    <div class="card">
      <div class="card-body">
        <h5 class="card-title">Calcular CDB</h5>
        <form [formGroup]="form" (ngSubmit)="onSubmit()">
          <div class="form-group mb-3">
            <label for="investmentValue" class="form-label">Para começar, qual valor você gostaria de investir?</label>
            <input type="text" id="investmentValue" formControlName="investmentValue" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f['investmentValue'].errors }" />
            <div *ngIf="submitted && f['investmentValue'].errors" class="invalid-feedback">
              <div *ngIf="f['investmentValue'].errors['required']">Por favor, informe o valor de investimento.</div>
            </div>
          </div>

          <div class="form-group mb-3">
            <label for="investmentValue" class="form-label">Quanto meses deixaria seu dinheiro investido?</label>
            <input type="text" id="month" formControlName="month" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f['month'].errors }" />
            <div *ngIf="submitted && f['month'].errors" class="invalid-feedback">
              <div *ngIf="f['month'].errors['required']">Por favor, informe o prazo.
              </div>
            </div>
          </div>
          <div class="form-group mb-3">
            <button type="submit" class="btn btn-primary">Calcular</button>
          </div>
        </form>

      </div>
    </div>
   </div>
    <div class="col-md-3" *ngIf="(cdbResponse.grossTotalAmount | json).length > 0">
      <div class="card mt-3">
        <div class="card-body">
          <p class="text-center">Valor total bruto</p>
          <p class="text-center">{{cdbResponse.grossTotalAmount | json | currency : 'BRL'}}</p>
        </div>
      </div>
    </div>
    <div class="col-md-3" *ngIf="(cdbResponse.amountInvested | json).length > 0">
      <div class="card mt-3">
        <div class="card-body">
          <p class="text-center">Valor investido</p>
          <p class="text-center">{{cdbResponse.amountInvested | json | currency : 'BRL'}}</p>
        </div>
      </div>
    </div>
    <div class="col-md-3" *ngIf="(cdbResponse.interestAmount | json).length > 0">
      <div class="card mt-3">
        <div class="card-body">
          <p class="text-center">Valor pago em imposto de renda</p>
          <p class="text-center">{{cdbResponse.interestAmount | json | currency : 'BRL'}}</p>
        </div>
      </div>
    </div>
    <div class="col-md-3" *ngIf="(cdbResponse.netTotalAmount | json).length > 0">
      <div class="card mt-3">
        <div class="card-body">
          <p class="text-center">Valor liquído</p>
          <p class="text-center">{{cdbResponse.netTotalAmount | json | currency : 'BRL'}}</p>
        </div>
      </div>
    </div>
  </div>
</div>